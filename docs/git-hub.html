<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Collaborative Science with GitHub | Git and GitHub for Reproducible Science</title>
  <meta name="description" content="Materials from workshop at University of Wyoming, hosted by Merkle lab" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Collaborative Science with GitHub | Git and GitHub for Reproducible Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Materials from workshop at University of Wyoming, hosted by Merkle lab" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Collaborative Science with GitHub | Git and GitHub for Reproducible Science" />
  
  <meta name="twitter:description" content="Materials from workshop at University of Wyoming, hosted by Merkle lab" />
  

<meta name="author" content="Simona Picardi" />


<meta name="date" content="2021-09-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="version-control-git.html"/>
<link rel="next" href="glossary.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Workshop Materials</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#software-requirements-and-installation-instructions"><i class="fa fa-check"></i><b>1.1</b> Software Requirements and Installation Instructions</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#git"><i class="fa fa-check"></i><b>1.1.1</b> Git</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#github"><i class="fa fa-check"></i><b>1.1.2</b> GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="version-control-git.html"><a href="version-control-git.html"><i class="fa fa-check"></i><b>2</b> Version Control with Git</a><ul>
<li class="chapter" data-level="2.1" data-path="version-control-git.html"><a href="version-control-git.html#directory-organization"><i class="fa fa-check"></i><b>2.1</b> Directory organization</a><ul>
<li class="chapter" data-level="2.1.1" data-path="version-control-git.html"><a href="version-control-git.html#overlap"><i class="fa fa-check"></i><b>2.1.1</b> Overlap</a></li>
<li class="chapter" data-level="2.1.2" data-path="version-control-git.html"><a href="version-control-git.html#minimizing-duplication"><i class="fa fa-check"></i><b>2.1.2</b> Minimizing duplication</a></li>
<li class="chapter" data-level="2.1.3" data-path="version-control-git.html"><a href="version-control-git.html#self-containedness"><i class="fa fa-check"></i><b>2.1.3</b> Self-containedness</a></li>
<li class="chapter" data-level="2.1.4" data-path="version-control-git.html"><a href="version-control-git.html#tradeoffs"><i class="fa fa-check"></i><b>2.1.4</b> Tradeoffs</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="version-control-git.html"><a href="version-control-git.html#golden-rules-for-file-organization"><i class="fa fa-check"></i><b>2.2</b> Golden rules for file organization</a></li>
<li class="chapter" data-level="2.3" data-path="version-control-git.html"><a href="version-control-git.html#relative-and-absolute-paths"><i class="fa fa-check"></i><b>2.3</b> Relative and absolute paths</a><ul>
<li class="chapter" data-level="2.3.1" data-path="version-control-git.html"><a href="version-control-git.html#path-separators"><i class="fa fa-check"></i><b>2.3.1</b> Path separators</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="version-control-git.html"><a href="version-control-git.html#command-line-basics"><i class="fa fa-check"></i><b>2.4</b> Command line basics</a></li>
<li class="chapter" data-level="2.5" data-path="version-control-git.html"><a href="version-control-git.html#configuring-git"><i class="fa fa-check"></i><b>2.5</b> Configuring Git</a></li>
<li class="chapter" data-level="2.6" data-path="version-control-git.html"><a href="version-control-git.html#getting-help"><i class="fa fa-check"></i><b>2.6</b> Getting help</a></li>
<li class="chapter" data-level="2.7" data-path="version-control-git.html"><a href="version-control-git.html#creating-a-repository"><i class="fa fa-check"></i><b>2.7</b> Creating a repository</a></li>
<li class="chapter" data-level="2.8" data-path="version-control-git.html"><a href="version-control-git.html#tracking-files"><i class="fa fa-check"></i><b>2.8</b> Tracking files</a></li>
<li class="chapter" data-level="2.9" data-path="version-control-git.html"><a href="version-control-git.html#ignoring-files"><i class="fa fa-check"></i><b>2.9</b> Ignoring files</a></li>
<li class="chapter" data-level="2.10" data-path="version-control-git.html"><a href="version-control-git.html#the-3-states"><i class="fa fa-check"></i><b>2.10</b> The 3 states</a></li>
<li class="chapter" data-level="2.11" data-path="version-control-git.html"><a href="version-control-git.html#un-staging-files"><i class="fa fa-check"></i><b>2.11</b> Un-staging files</a></li>
<li class="chapter" data-level="2.12" data-path="version-control-git.html"><a href="version-control-git.html#recovering-a-previous-version-of-a-file"><i class="fa fa-check"></i><b>2.12</b> Recovering a previous version of a file</a></li>
<li class="chapter" data-level="2.13" data-path="version-control-git.html"><a href="version-control-git.html#removing-git"><i class="fa fa-check"></i><b>2.13</b> Removing Git</a></li>
<li class="chapter" data-level="2.14" data-path="version-control-git.html"><a href="version-control-git.html#git-everyday"><i class="fa fa-check"></i><b>2.14</b> Git everyday</a></li>
<li class="chapter" data-level="2.15" data-path="version-control-git.html"><a href="version-control-git.html#references"><i class="fa fa-check"></i><b>2.15</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git-hub.html"><a href="git-hub.html"><i class="fa fa-check"></i><b>3</b> Collaborative Science with GitHub</a><ul>
<li class="chapter" data-level="3.1" data-path="git-hub.html"><a href="git-hub.html#adding-a-remote-to-a-local-repository"><i class="fa fa-check"></i><b>3.1</b> Adding a remote to a local repository</a></li>
<li class="chapter" data-level="3.2" data-path="git-hub.html"><a href="git-hub.html#pushing-to-a-remote-repository"><i class="fa fa-check"></i><b>3.2</b> Pushing to a remote repository</a></li>
<li class="chapter" data-level="3.3" data-path="git-hub.html"><a href="git-hub.html#cloning-a-repository"><i class="fa fa-check"></i><b>3.3</b> Cloning a repository</a></li>
<li class="chapter" data-level="3.4" data-path="git-hub.html"><a href="git-hub.html#synchronizing-changes-among-collaborators"><i class="fa fa-check"></i><b>3.4</b> Synchronizing changes among collaborators</a></li>
<li class="chapter" data-level="3.5" data-path="git-hub.html"><a href="git-hub.html#resolving-conflicts"><i class="fa fa-check"></i><b>3.5</b> Resolving conflicts</a></li>
<li class="chapter" data-level="3.6" data-path="git-hub.html"><a href="git-hub.html#avoiding-conflicts"><i class="fa fa-check"></i><b>3.6</b> Avoiding conflicts</a></li>
<li class="chapter" data-level="3.7" data-path="git-hub.html"><a href="git-hub.html#working-with-branches"><i class="fa fa-check"></i><b>3.7</b> Working with branches</a></li>
<li class="chapter" data-level="3.8" data-path="git-hub.html"><a href="git-hub.html#forking-a-repository"><i class="fa fa-check"></i><b>3.8</b> Forking a repository</a></li>
<li class="chapter" data-level="3.9" data-path="git-hub.html"><a href="git-hub.html#pull-requests"><i class="fa fa-check"></i><b>3.9</b> Pull requests</a></li>
<li class="chapter" data-level="3.10" data-path="version-control-git.html"><a href="version-control-git.html#references"><i class="fa fa-check"></i><b>3.10</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>4</b> Glossary</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Git and GitHub for Reproducible Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="git-hub" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Collaborative Science with GitHub</h1>
<p>Yesterday we have gained a good understanding of how Git works locally on our computer. Today we are going to see how to work with remote repositories and use Git to collaborate with others. A remote repository is a copy of a repository that is stored elsewhere than your local copy, such as a web server or a private network server. In most cases, when collaborating, you’ll have a copy of a repository on your machine (the local repository) and a copy on a server that is accessible to others (the remote repository). The remote repository can be hosted on GitHub. By making sure changes are synchronized between local and remote copies of a repository, we can ensure each collaborator on a project is always working with the most recent version.</p>
<p>There are two ways to set up your local and remote repositories to interact. One is to set up the local first and link it with a remote later. The second one is to create the remote first and “clone it” on your computer to get a local copy. If you’re starting a brand new repository you can go either way, but the first approach is what you would do if you wanted to link a repository that already exists on your local machine to a GitHub repository.</p>
<div id="adding-a-remote-to-a-local-repository" class="section level2">
<h2><span class="header-section-number">3.1</span> Adding a remote to a local repository</h2>
<p>Starting from an existing Git repository on your computer, you can link this to its GitHub counterpart by adding a remote URL. To set up a URL, go on the GitHub website, click on the ‘+’ sign in the top-right corner and select ‘New Repository’.</p>
<div class="figure" style="text-align: center"><span id="fig:github01"></span>
<img src="img/github-01.PNG" alt="Create new GitHub repository" width="100%" />
<p class="caption">
Figure 3.1: Create new GitHub repository
</p>
</div>
<p>You can choose any name for your repository, but I find it intuitive to give it the same name as the folder where my local Git repository is. Since the remote repository will need to be connected to a local one, it needs to be completely empty: if there are conflicts in the content of the two repositories to begin with, Git won’t be able to link them. Therefore, do not add a README, a .gitignore file, or a license.</p>
<div class="figure" style="text-align: center"><span id="fig:github02"></span>
<img src="img/github-02.PNG" alt="Create new GitHub repository" width="100%" />
<p class="caption">
Figure 3.2: Create new GitHub repository
</p>
</div>
<p>To connect the local and remote repositories, you can copy the URL of the remote repository and paste it in the following command in the terminal:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="git-hub.html#cb25-1"></a><span class="op">&gt;</span> <span class="fu">git</span> remote add origin https://github.com/picardis/myrepo.git</span></code></pre></div>
<p>‘Origin’ is the conventional name given to a remote repository. You could use any other name, but since GitHub uses ‘origin’ as the default name when creating a repository from the website, using this convention will make things easier later. You’d need a very good reason to use a different name.</p>
<p>To check that the remote was added correctly you can view the list of remotes associated with your local repository:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb26-1"><a href="git-hub.html#cb26-1"></a><span class="op">&gt;</span> <span class="fu">git</span> remote -v</span></code></pre></div>
<p>We’ll talk about branches later in this chapter, and we’ll see that a repository can have multiple branches. At a minimum, each repository includes one main branch, which is created by default when you create your repository. By default, this branch is called <code>master</code>. Starting in 2020, GitHub has started to switch to using <code>main</code> instead of <code>master</code> to remove unnecessary references to slavery. We like this change, because Black Lives Matter. So we’ll go ahead and rename the <code>master</code> branch to <code>main</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb27-1"><a href="git-hub.html#cb27-1"></a><span class="op">&gt;</span> <span class="fu">git</span> branch -M main</span></code></pre></div>
</div>
<div id="pushing-to-a-remote-repository" class="section level2">
<h2><span class="header-section-number">3.2</span> Pushing to a remote repository</h2>
<p>Now it’s time to transfer an exact copy of the files in the local repository to the remote one. This action is called ‘pushing’. The first time you push, it’s a good idea to specify which branch Git should use as the default remote for the local main branch in the future. We do this by adding the flag ‘-u’ (for upstream), followed by the name of the remote and the name of the local branch that you want to link up:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb28-1"><a href="git-hub.html#cb28-1"></a><span class="op">&gt;</span> <span class="fu">git</span> push -u origin main</span></code></pre></div>
<p>This command is identical to the following:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb29-1"><a href="git-hub.html#cb29-1"></a><span class="op">&gt;</span> <span class="fu">git</span> push --set-upstream origin main</span></code></pre></div>
<p>You only have to set the upstream the first time you push a certain branch. After the upstream is set up, you will be able to just push changes to the remote repository by doing:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb30-1"><a href="git-hub.html#cb30-1"></a><span class="op">&gt;</span> <span class="fu">git</span> push</span></code></pre></div>
<p>You will be prompted to enter your GitHub password for the push to go through.</p>
<p>Once you push, all the files you committed are transferred and your two repositories will mirror each other. To keep the remote repository synchronized with the local, any time you commit changes to tracked files you will also need to push them. That adds a new step to our workflow: add/stage, commit, push.</p>
</div>
<div id="cloning-a-repository" class="section level2">
<h2><span class="header-section-number">3.3</span> Cloning a repository</h2>
<p>The other way to get a local-remote repository pair set up is to create a GitHub repository first and clone it on your computer. In this case, it doesn’t matter whether the remote repository is empty or not, so you can add a README. Cloning a repository is also useful if you are collaborating on a project with someone on their repository. You and your collaborator/s can all have a copy of the same repository on each of your computers by cloning a shared remote repository, which will then be synchronized with changes made by anyone on the team. The person who created the repository will need to add the others as collaborators so that they’re able to clone it.</p>
<p>To clone a repository, open the terminal and navigate to the folder where you want to download it. Then use the following command:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb31-1"><a href="git-hub.html#cb31-1"></a>$ <span class="fu">git</span> clone https://github.com/picardis/myrepo.git</span></code></pre></div>
<p>The repository will be copied to your computer into the folder you specified.</p>
</div>
<div id="synchronizing-changes-among-collaborators" class="section level2">
<h2><span class="header-section-number">3.4</span> Synchronizing changes among collaborators</h2>
<p>The inverse of pushing is pulling, which transfers files and changes from the remote repository to the local one:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb32-1"><a href="git-hub.html#cb32-1"></a>$ <span class="fu">git</span> pull </span></code></pre></div>
<p>When you are working with collaborators on a shared GitHub repository, you will periodically need to pull from it to make sure your local copy is synchronized with changes somebody else might have made. You certainly need to pull before you push your own changes, because Git won’t allow you to push if the remote repository has changes that you don’t have on your local copy. If the two repositories are already up-to-date and you try to pull, nothing will happen because there are no changes on the remote repository that aren’t already in the local.</p>
<p>If a collaborator makes a change that is in conflict with what we committed to our own local repository, when we try to pull we are going to encounter a merge conflict. Merge conflicts occur when two collaborators work on the same file at the same time. GitHub does not know how to automatically reconcile changes to the same file, and it will throw an error that we’ll need to resolve manually.</p>
</div>
<div id="resolving-conflicts" class="section level2">
<h2><span class="header-section-number">3.5</span> Resolving conflicts</h2>
<p>Having to deal with merge conflicts is eventually very likely when working on collaborative projects, but they can be handled and resolved without too much pain.</p>
<p>If two collaborators edit the same file at the same time without pulling each other’s changes first, when one tries to push their changes to the remote they will get an error message that looks like this:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb33-1"><a href="git-hub.html#cb33-1"></a><span class="ex">To</span> https://github.com/picardis/myrepo.git</span>
<span id="cb33-2"><a href="git-hub.html#cb33-2"></a> ! [<span class="ex">rejected</span>]        master -<span class="op">&gt;</span> master (fetch first)</span>
<span id="cb33-3"><a href="git-hub.html#cb33-3"></a><span class="ex">error</span>: failed to push some refs to <span class="st">&#39;https://github.com/picardis/myrepo.git&#39;</span></span>
<span id="cb33-4"><a href="git-hub.html#cb33-4"></a><span class="ex">hint</span>: Updates were rejected because the remote contains work that you do</span>
<span id="cb33-5"><a href="git-hub.html#cb33-5"></a><span class="ex">hint</span>: not have locally. This is usually caused by another repository pushing</span>
<span id="cb33-6"><a href="git-hub.html#cb33-6"></a><span class="ex">hint</span>: to the same ref. You may want to first integrate the remote changes</span>
<span id="cb33-7"><a href="git-hub.html#cb33-7"></a><span class="ex">hint</span>: (e.g., <span class="st">&#39;git pull ...&#39;</span>) <span class="ex">before</span> pushing again.</span>
<span id="cb33-8"><a href="git-hub.html#cb33-8"></a><span class="ex">hint</span>: See the <span class="st">&#39;Note about fast-forwards&#39;</span> in <span class="st">&#39;git push --help&#39;</span> for details.</span></code></pre></div>
<p>Git is rejecting the push because it found some updates in the remote repository that have not been incorporated in the local copy. To solve this, the person who got the error will need to pull the most recent changes, merge them into their current copy, and then push the resulting file.</p>
<p>After pulling, if we open the file where the conflict is, we’ll find that Git did not erase one person’s changes in favor of the other’s; instead, it marked the lines where conflicting changes occur. The beginning and end of the problematic chunk are highlighted, and the two versions are separated by ‘=’ signs.</p>
<p>Now it is up to us to reconcile these changes however we consider appropriate. We could keep our own changes, keep the changes made by our collaborator, write something new to replace both, or delete the change entirely. Once the conflict is removed and the file is saved, we can proceed as usual by staging the file, committing it, and pushing it. Now, when any of the other collaborators pulls from the repository again, they will get the merged version of this file.</p>
<p>In some cases, collaborators will make simultaneous changes to a file that are mutually exclusive – for example, one person will delete a line of code while another person will edit that same line. However, changes don’t need to be mutually exclusive for a merge conflict to happen: any time two users edit the same line of the same file at the same time (for example, two users may both add a new argument to the same function), Git is going to play it safe and call a merge conflict regardless of whether the changes contradict each other or not. Conflict resolution requires the user to verify whether the changes affect each other and if they can both stay or not.</p>
</div>
<div id="avoiding-conflicts" class="section level2">
<h2><span class="header-section-number">3.6</span> Avoiding conflicts</h2>
<p>Merge conflicts need to be manually resolved by a person, which is time-consuming. More importantly, the person who resolves a merge conflicts is making a judgement call on what is the best way of fixing the situation. Having to introduce subjective judgement calls is perhaps the weakest spot of the entire collaborative version control workflow. Preventing conflicts from happening in the first place is better than having to fix them. There are a few things that can help prevent merge conflicts:</p>
<ul>
<li>Pull often: decreases probability that your working version is not up-to-date;</li>
<li>Make small and frequent commits: decreases probability that your recent changes are not in other people’s working version;</li>
<li>Organize your code in small modules: decreases probability of two users working on the same file;</li>
<li>Working on branches or forks… more on this in the next sections.</li>
</ul>
</div>
<div id="working-with-branches" class="section level2">
<h2><span class="header-section-number">3.7</span> Working with branches</h2>
<p>By default, a new repository contains a single branch: the main branch. However, we can create new branches within a repository. A branch is like a parallel universe where any changes we make on the files only exist on that branch and do not affect the main branch. Branches allow you to freely experiment with editing files and code without affecting the original project until you’re ready to merge them.</p>
<p>The command to create a branch is:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb34-1"><a href="git-hub.html#cb34-1"></a><span class="op">&gt;</span> <span class="fu">git</span> branch my-branch</span></code></pre></div>
<p>To start working on the new branch, we switch to it with the following command:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb35-1"><a href="git-hub.html#cb35-1"></a><span class="op">&gt;</span> <span class="fu">git</span> checkout my-branch</span></code></pre></div>
<p>Or we could also create the branch and switch to it all in one:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb36-1"><a href="git-hub.html#cb36-1"></a><span class="op">&gt;</span> <span class="fu">git</span> checkout -b my-branch</span></code></pre></div>
<p>Where “b” stands for branch. To verify which branch we’re on, we can use ‘git log’ (we’ve used this same command before to look at the commit history):</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb37-1"><a href="git-hub.html#cb37-1"></a><span class="op">&gt;</span> <span class="fu">git</span> log </span></code></pre></div>
<p>The word ‘HEAD’ in the output of <code>git log</code> is called a pointer; it tells us which branch we’re currently working on. On creation, a new branch shares the commit history of the main branch up until the moment the branch was created. After that, the two commit histories are allowed to diverge. Any changes we commit to a branch will be only effective on the that branch and not affect the others. This takes off all the pressure of making changes to your code that could potentially break your workflow downstream. Once you’ve had a chance to verify that the changes work the way you want them to, you can merge the branches back into one.</p>
<p>To merge changes made in a branch into the main branch we use:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb38-1"><a href="git-hub.html#cb38-1"></a><span class="op">&gt;</span> <span class="fu">git</span> merge my-branch</span></code></pre></div>
<p>And then we can delete the ‘my-branch’ branch which is no longer needed:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb39-1"><a href="git-hub.html#cb39-1"></a>$ <span class="fu">git</span> branch -d my-branch</span></code></pre></div>
<p>If there are conflicting changes on the two branches we are trying to merge, Git will halt the process and issue a merge conflict similar to what we have seen before.</p>
</div>
<div id="forking-a-repository" class="section level2">
<h2><span class="header-section-number">3.8</span> Forking a repository</h2>
<p>Forking a repository means creating a copy of an existing repository where you can make changes without affecting the original repository. You can technically fork your own repository, but forking is mostly used to get a copy of somebody else’s repository. For example, if you want to contribute to a project that was created by a person you don’t know, or if you want to build off of their code because it does something similar to what you need to do, you can fork their repository and work on it without their copy being affected.</p>
<p>The cool thing about forking is that, if the owner makes changes to their repository, you can pull those changes to your fork so that your copy of the repository stays in sync with the original. Also, you can contribute your own changes by submitting them to the original repository through pull requests. This is the main difference between forking and cloning somebody else’s repository: by cloning, you won’t be able to update your copy to include new changes made in the original and you won’t be able to contribute back unless you’re added as a collaborator.</p>
<p>Unlike all the other functionalities we have seen so far, which are Git commands, forking is a GitHub functionality. There is no built-in Git function to fork a repository from the command line. To fork a repository, go to the web page of that repository and click “Fork” in the top-right corner. This will create a copy of the repository on your GitHub account.</p>
<div class="figure" style="text-align: center"><span id="fig:github03"></span>
<img src="img/github-03.PNG" alt="Fork GitHub repository" width="100%" />
<p class="caption">
Figure 3.3: Fork GitHub repository
</p>
</div>
<p>Now, if you also want a local copy of this repository on your computer, you can clone your fork. For example, if I forked octocat’s Spoon-Knife repository onto my GitHub account, I could then clone it onto my computer like so:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb40-1"><a href="git-hub.html#cb40-1"></a><span class="op">&gt;</span> <span class="fu">git</span> clone https://github.com/picardis/Spoon-Knife</span></code></pre></div>
<p>To keep my fork up-to-date with the original repository, I can configure it as follows:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb41-1"><a href="git-hub.html#cb41-1"></a>$ <span class="fu">git</span> remote add upstream https://github.com/octocat/Spoon-Knife.git</span></code></pre></div>
<p>Now I will be able to pull from the original repository and keep my local copy synchronized. I won’t be able to push because I do not have collaborator privileges on this repository.</p>
</div>
<div id="pull-requests" class="section level2">
<h2><span class="header-section-number">3.9</span> Pull requests</h2>
<p>Pull requests are the way to ask that the edits you made in a fork (or a branch) get merged into the original repository (or main branch). To ask the owner of a repository to view and potentially integrate the changes you made in your own forked version, you submit a pull request. Similarly, to let your collaborators know about the edits you made and let them review them before they get merged, you submit a pull request. There is a key difference here: while as an external agent you have no other choice but submitting a pull request to merge a fork into a repository, as a collaborator you could simply merge your edits if you wanted to. If you are working on your own repository by yourself, there is no need to go through pull requests to merge a branch. But if you are collaborating with people, it is still good and courteous practice to use pull requests as a heads-up before you merge your changes, so that others on the project can review and approve them.</p>
<p>The most straightforward way to submit a pull request is from the GitHub website. To start a pull request, you must have some changes committed to the repository or branch where you want to merge them. Then you can go to the repository page on GitHub and click on the ‘Pull requests’ tab, then click ‘New pull request’. Choose your target branch, enter a title and description, and then click ‘Send pull request’. Once the pull request is open, everyone can write comments on it, see all the commits it includes, and look at the changes it proposes within files.</p>
<div class="figure" style="text-align: center"><span id="fig:github04"></span>
<img src="img/github-04.PNG" alt="Pull request" width="100%" />
<p class="caption">
Figure 3.4: Pull request
</p>
</div>
<p>Once everyone is happy with the proposed changes, you are ready to merge the pull request. If there are no merge conflicts, you will see a ‘Merge pull request’ button.</p>
</div>
<div id="references" class="section level2">
<h2><span class="header-section-number">3.10</span> References</h2>
<ul>
<li>GitHub Community Forum: <a href="https://github.community/" class="uri">https://github.community/</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="version-control-git.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="glossary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["uwyo-git-github.pdf", "uwyo-git-github.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
